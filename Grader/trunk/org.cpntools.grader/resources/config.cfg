[matcher]
-0.5: signature,threshold=50

[tests]
-50.0: declaration-preservation,globref
-50.0: interface-preservation,addpages=true,initmark=true,subset=deliveryservice
1.0: btl,repeats=1,name="Accept 10 Orders",test=
	+ (attempts := "3") &
	+ (capacity := "5") &
	+ (10 * (--> System.Customer.Order) -> (--> System.Customer.Order) => failure) &
	+ (@(!System.Customer.reject)) &
	+ (true ---> [|System.Customer.Received_Packages| = 10 & |System.Shop.Returns| = 0]) &
	+ (10 * (--> System.Shop.Finish_Order))
1.0: btl,repeats=1,name="Reject 10 Orders",test=
	+ (attempts := "3") &
	+ (capacity := "5") &
	+ (System.Order := "10`(\"Bob\",A,\"Book\")") &
	+ (@(!System.Customer.order & !System.Customer.accept)) &
	+ ((--> System.Shop.Finish_Order) => false) &
	+ (true ---> [|System.Shop.Returns| = 10 & |System.Customer.Received_Packages| = 0])
1.0: btl,repeats=1,name="30 Random Orders",test=
	+ (attempts := "3") &
	+ (capacity := "5") &
	+ (30 * (--> System.Customer.Order) -> (--> System.Customer.Order) => failure) &
	+ (true ---> [|System.Customer.Received_Packages| + |System.Shop.Returns| = 30])
1.0: btl,repeats=1,name="3 Rejects lead to Return (for 10 packages)",test=
	+ (attempts := "3") &
	+ (capacity := "5") &
	+ (System.Order := "10`(\"Bob\",A,\"Book\")") &
	+ (@(!System.Customer.order & !System.Customer.accept)) &
	+ [10 * ((((((* !System.Customer.Reject -> System.Customer.Reject) -> * !System.Customer.Reject) -> System.Customer.Reject) -> * !System.Customer.Reject) -> System.Customer.Reject) -> * (!System.Customer.Reject & !System.Customer.Accept))] &
	+ [(--> System.Customer.Receive) => false] &
	+ ((10 * (--> System.Shop.Handle_Return)) -> (--> System.Shop.Handle_Return) => failure)
